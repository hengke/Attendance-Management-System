{% extends 'base.html' %}
{% block content %}
    <link href="/static/css/bootstrap-datetimepicker-standalone.min.css" rel="stylesheet">
    <link href="/static/css/bootstrap-select.min.css">
    <script src="/static/js/bootstrap-select.min.js"></script>
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/bootstrap-datetimepicker.min.js"></script>
    <script src="/static/js/moment-with-locales.min.js"></script>
    <div class="jumbotron col-sm-8">
        <div class="panel panel-primary">
            <!--表单开始-->
            <div class="panel-heading">
                <h2 class="panel-title">员工信息</h2>
            </div>
            <div class="panel-body">
                <form id="defaultForm" role="form" class="form-signin form-horizontal" action="/edit_emp_info/" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="username" class="col-sm-4 control-label">用户名：</label>
                        <div class="col-sm-4">
                            <input class="form-control" type="text" readonly="readonly" unselectable="on" \
                                   name="username" id="username" value="{{ user.username }}"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="emp_num" class="col-sm-4 control-label">员工编号：</label>
                        <div class="col-sm-4">
                            <input class="form-control" type="text" name="emp_num" id="emp_num" value="{{ emp.emp_num }}"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="full_name" class="col-sm-4 control-label">姓名：</label>
                        <div class="col-sm-4">
                            <input class="form-control" type="text" name="full_name" id="full_name" value="{{ emp.full_name }}"/>
                        </div>
                    </div>
                    <div class="form-group">
                    <div class="form-group">
                        <label for="department" class="col-sm-4 control-label">部门：</label>
                        <div class="col-sm-4">
                            <select class="form-control" id="selectDepartment" name="department">
                                {% for dept in dept_list %}
                                    {% ifequal dept.id emp.department.id %}
                                        <option value="{{ dept.name }}" selected>{{ dept.name }}</option>
                                    {% else %}
                                        <option value="{{ dept.name }}">{{ dept.name }}</option>
                                    {% endifequal %}

                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="user_type" class="col-sm-4 control-label">职务：</label>
                        <div class="col-sm-4">
                            <select class="form-control" id="user_type" name="user_type">
                                {% for user_type in user_type_list %}
                                    {% ifequal user_type.id emp.user_type.id %}
                                        <option value="{{ user_type.caption }}" selected>{{ user_type.caption }}</option>
                                    {% else %}
                                        <option value="{{ user_type.caption }}">{{ user_type.caption }}</option>
                                    {% endifequal %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="gender" class="col-sm-4 control-label">性别：</label>
                        <div class="col-sm-8">
                        <label class="radio-inline">
                            <input type="radio" name="gender" id="gender" value="男"
                                    {% ifequal emp.gender "男" %}
                                        checked
                                    {% endifequal %} > 男
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="gender" id="gender" value="女"
                                    {% ifequal emp.gender "女" %}
                                        checked
                                    {% endifequal %} > 女
                        </label>
                        </div>
{#                        <div class="col-sm-4">#}
{#                            <input class="form-control" type="text" name="gender" id="gender" value="{{ emp.gender }}"/>#}
{#                        </div>#}
                    </div>
                    <div class="form-group">
                        <label for="birth_date" class="col-sm-4 control-label">出生日期：</label>
                        <div class="col-sm-4 date">
                            <input class="form-control" type="text" name="birth_date" id="birth_date"  value="{{ emp.birth_date }}" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="work_phone" class="col-sm-4 control-label">办公电话：</label>
                        <div class="col-sm-4">
                            <input class="form-control " type="text" name="work_phone" id="work_phone" value="{{ emp.work_phone }}"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="cell_phone" class="col-sm-4 control-label">手机号码：</label>
                        <div class="col-sm-4">
                            <input class="form-control " type="text" name="cell_phone" id="cell_phone" value="{{ emp.cell_phone }}"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email" class="col-sm-4 control-label">Email:</label>
                        <div class="col-sm-4">
                            <input class="form-control" type="email" name="email" id="email" value="{{ emp.user.email }}"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-4 col-sm-4">
                            <button class="btn btn-lg btn-primary pull-right" type="submit">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!--表单结束-->
    </div>
    <script>
        $(function () {
            $('#birth_date').datetimepicker({
                format: 'YYYY-MM-DD',
                locale: moment.locale('zh-cn')
            });
        })
    </script>
{% endblock content %}
{% block sidebar %}
    0
{% endblock sidebar %}